/*!
 *
 * Funpack js
 * @author: Instrument
 * @url: http://weareinstrument.com
 * @git: https://github.com/Instrument/funpack
 *
 *
 * The MIT License (MIT)
 * 
 * Copyright (c) 2014 Instrument
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(e){var t={};e.funpack=function(e){return e?t[e]||void 0:t},e.funpack.pack=function(e,i){t[e]||(t[e]=i)}}(this),function(e){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),function(){for(var t=["webkit","moz","ms","o"],i=0;i<t.length&&!e.requestAnimationFrame;++i){var n=t[i];e.requestAnimationFrame=e[n+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)||!e.requestAnimationFrame||!e.cancelAnimationFrame){var o=0;e.requestAnimationFrame=function(e){var t=Date.now(),i=Math.max(o+16,t);return setTimeout(function(){e(o=i)},i-t)},e.cancelAnimationFrame=clearTimeout}}()}(window),function(e){var t=e.requestAnimationFrame,i=e.cancelAnimationFrame,n=function(){return this.init.apply(this,arguments)};n.prototype={constructor:n,init:function(){this._handlers={},this._uid=0,this._started=!1,this._paused=!1,this._cycle=null},go:function(e){if(this._started&&this._cycle)return this;this._started=!0;var i=this,n=function(){i._cycle=t(n),i._started&&"function"==typeof e&&e()};n()},pause:function(){return this._paused=!0,this},play:function(){return this._paused=!1,this},stop:function(){return i(this._cycle),this._paused=!1,this._started=!1,this._cycle=null,this},on:function(e,t){var i=e.split(" ");t._jsControllerID=this.getUID();for(var n=i.length;n--;)"function"==typeof t&&(this._handlers[i[n]]||(this._handlers[i[n]]=[]),this._handlers[i[n]].push(t));return this},off:function(e,t){return this._handlers[e]?(t?this._off(e,t):this._offed(e),this):this},fire:function(e){if(!this._handlers[e])return this;for(var t=[].slice.call(arguments,1),i=this._handlers[e].length;i--;)this._handlers[e][i].apply(this,t);return this},getUID:function(){return this._uid=this._uid+1,this._uid},_off:function(e,t){for(var i=0,n=this._handlers[e].length;n>i;i++)if(t._jsControllerID===this._handlers[e][i]._jsControllerID){this._handlers[e].splice(i,1);break}},_offed:function(e){for(var t=this._handlers[e].length;t--;)this._handlers[e][t]=null;delete this._handlers[e]}},e.funpack.pack("Controller",n)}(window),function(e){"use strict";var t={linear:function(e){return e},swing:function(e){return(1-Math.cos(e*Math.PI))/2},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}};e.funpack.pack("Easing",t)}(window),function(e){"use strict";var t=function(e,i){var n=e.matches?"matches":e.webkitMatchesSelector?"webkitMatchesSelector":e.mozMatchesSelector?"mozMatchesSelector":e.msMatchesSelector?"msMatchesSelector":e.oMatchesSelector?"oMatchesSelector":null;return n&&e[n].call(e,i)?e:e!==document.documentElement&&e.parentNode?t(e.parentNode,i):null};e.funpack.pack("matchElement",t)}(window),function(e,t,i){"use strict";if(!t)throw new Error("Hammered Class requires Hammerjs!");var n=null,o=function(){return n||this.init.apply(this,arguments)};o.prototype={constructor:o,init:function(e,i){n=this,this._version="1.1.2",this._handlers={},this._hammer=new t(e||document.body,i)},getInstance:function(){return this._hammer},getHandlers:function(){return this._handlers},on:function(e,t,n){var o="Hammered"+(this._version+Math.random()+(e+"-"+t)).replace(/\W/g,""),a=function(e){var o=i(e.target,t);o&&n.call(o,e)};a._hammerUID=o,n._hammerUID=o,this._hammer.on(e,a),this._handlers[o]=a},off:function(e,t){var i;for(i in this._handlers)if(i===t._hammerUID&&this._handlers[i]._hammerUID===t._hammerUID){this._hammer.off(e,this._handlers[i]),delete this._handlers[i];break}},trigger:function(e,i){if(i="object"==typeof i&&1===i.nodeType?i:null){var n=document.createEvent("CustomEvent"),o=t.event.collectEventData(i,t.EVENT_END,t.event.getTouchList(n,t.EVENT_END),n);o.target=i,this._hammer.trigger(e,o)}}},e.funpack.pack("Hammered",o)}(window,window.Hammer,window.matchElement||window.funpack("matchElement")),function(e){"use strict";function t(t){return!t||t.jquery?t:("string"==typeof t?t=e(t):"addClass"in t||"removeClass"in t||"attr"in t||"not"in t||(t=e(t)),t)}function i(e){a+=e._num2Load,d.push(e),u||(u=!0,n())}function n(){if(s!==a)for(r=window.requestAnimationFrame(n),o=d.length;o--;)d[o]._numLoaded!==d[o]._num2Load&&"async"===d[o]._loadType&&d[o].handle();else window.cancelAnimationFrame(r),r=null,u=!1}var o,a=0,s=0,r=null,u=!1,d=[];if(!e)throw new Error("ImageLoader Class requires jQuery, ender, Zepto or something like that...");var h=function(){return this.init.apply(this,arguments)};h.IS_LOADING="-is-lazy-loading",h.IS_TRANSITION="-is-lazy-transition",h.IS_LOADED="-is-lazy-loaded",h.IS_HANDLED="-is-lazy-handled",h.prototype={constructor:h,init:function(e){if(!e)throw new Error("ImageLoader Class requires options to be passed");this._elements=t(e.elements),this._property=e.property||"data-src",this._loadType=e.loadType||"async",this._numLoaded=0,this._num2Load=this._elements?this._elements.length:0,this._transitionDelay=e.transitionDelay||100,this._transitionDuration=e.transitionDuration||600,this._resolved=!1,this._handlers={handle:null,update:null,done:null,load:null},"async"===this._loadType?i(this):this._syncLoad()},on:function(e,t){return this._handlers[e]=t,this},fire:function(e,t){var i=!1;return"function"==typeof this._handlers[e]&&(i=this._handlers[e].call(this,t)),i},update:function(){var t=this;this._elements.each(function(){var i=e(this);t.fire("update",i)})},load:function(e,t){var i=this,n=null,o=null,a=e.is("img"),s=e.attr(this._property);return e.addClass(h.IS_LOADING),n=a?e[0]:new Image,o=setTimeout(function(){clearTimeout(o),e.addClass(h.IS_TRANSITION),n.onload=function(){i.fire("load",e),e.data("imageloader",{width:n.width,height:n.height}),a||(e.css("background-image","url("+s+")"),n=null),e.addClass(h.IS_LOADED),o=setTimeout(function(){clearTimeout(o),e.removeClass(h.IS_LOADING+" "+h.IS_TRANSITION+" "+h.IS_LOADED).addClass(h.IS_HANDLED),i._numLoaded!==i._num2Load||i._resolved?"function"==typeof t&&t(!1):(i._resolved=!0,i.fire("done"))},i._transitionDuration)},n.onerror=function(){i._numLoaded!==i._num2Load||i._resolved?"function"==typeof t&&t(!0):(i._resolved=!0,i.fire("done"))},n.src=s},this._transitionDelay),this},handle:function(){var t=this._elements.not("."+h.IS_HANDLED+", ."+h.IS_LOADING),i=this;t.each(function(){var t=e(this);i.fire("handle",t)&&(s++,i._numLoaded++,i.load(t))})},_syncLoad:function(){function e(){var i=t._elements.eq(t._numLoaded);t._numLoaded++,t.load(i,function(i){i||t._resolved||e()})}var t=this;e()}},window.funpack.pack("ImageLoader",h)}(window.jQuery||window.ender||window.Zepto),function(e,t,i){"use strict";var n={ease:t.linear,duration:600,from:0,to:0,delay:0,update:function(){},complete:function(){}},o=function(e){function t(i){if(!u){null===s&&(s=i);var n=i-s,o=a*e.ease(n/e.duration)+e.from;return"function"==typeof e.update&&e.update(o),n>e.duration?("function"==typeof e.complete&&e.complete(e.to),cancelAnimationFrame(r),r=null,!1):void(r=requestAnimationFrame(t))}}e=e||{};for(var o in n)e[o]===i&&(e[o]=n[o]);var a=e.to-e.from,s=null,r=null,u=!1;setTimeout(function(){r=requestAnimationFrame(t)},e.delay),this.stop=function(){u=!0,cancelAnimationFrame(r),r=null}};e.funpack.pack("Tween",o)}(window,window.Easing||window.funpack("Easing")),function(e,t,i,n){"use strict";var o=/[#|?].*$/g,a=/^no$/,s=function(e){return"function"==typeof e},r=function(e){return e instanceof HTMLElement},/**
 *
 * Borrowed(ish)
 * Modernizr v2.7.1
 * www.modernizr.com
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 * @method getAudioSupport
 * @returns object
 * @private
 *
 */
u=function(){var e=t.createElement("audio"),i={};try{e.canPlayType&&(i.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(a,""),i.mp3=e.canPlayType("audio/mpeg;").replace(a,""),i.wav=e.canPlayType('audio/wav; codecs="1"').replace(a,""),i.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(a,""))}catch(n){}return i},/**
 *
 * Borrowed(ish)
 * Modernizr v2.7.1
 * www.modernizr.com
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 * @method getVideoSupport
 * @returns object
 * @private
 *
 */
d=function(){var e=t.createElement("video"),i={};try{e.canPlayType&&(i.mpeg4=e.canPlayType('video/mp4; codecs="mp4v.20.8"').replace(a,""),i.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(a,""),i.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(a,""),i.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(a,""))}catch(n){}return i},h=function(e){e.source.start?e.source.start(0,e.startOffset%e.buffer.duration):e.source.noteOn(0,e.startOffset%e.buffer.duration)},c=function(e){e.source.stop?e.source.stop(0):e.source.noteOff(0)},l=function(e){var t;switch(e.split(".").pop().toLowerCase().replace(o,"")){case"ogg":t="audio/ogg";break;case"mp3":t="audio/mpeg";break;case"webm":t="video/webm";break;case"mp4":t="video/mp4";break;case"ogv":t="video/ogg"}return t},_=function(e,t){for(var i,n,a=t.length;a--;){var s=t[a].split(".").pop().toLowerCase().replace(o,"");if("video"===e&&"mp4"===s?"probably"===f.support.video.mpeg4||"probably"===f.support.video.h264?(i=t[a],n="probably"):("maybe"===f.support.video.mpeg4||"maybe"===f.support.video.h264)&&(i=t[a],n="maybe"):"probably"===f.support[e][s]?(i=t[a],n="probably"):"maybe"===f.support[e][s]&&(i=t[a],n="maybe"),i)break}return{source:i,canPlay:n}},f=function(){return this.init.apply(this,arguments)};f.support={audio:u(),video:d()},f.STATE_STOPPED=0,f.STATE_STOPPING=1,f.STATE_PAUSED=2,f.STATE_PLAYING=3,f.prototype={constructor:f,init:function(){this._channels={bgm:{volume:1},sfx:{volume:1},vid:{volume:1}},this._urls=[],this._audio={},this._video={},this._audioPaused=!1,this._mediaCount=0,this._mediaLoads=0,this._progressHandler=null},createAudioContext:function(){var t;return e.AudioContext?t=e.AudioContext:e.webkitAudioContext&&(t=e.webkitAudioContext),t?new t:t},createGainNode:function(e){var t;return t=e.createGain?e.createGain():e.createGainNode()},isLoaded:function(e){var t=this._video[e]?this._video[e]:this._audio[e];return t.loaded===!0},isStopped:function(e){var t=this._video[e]?this._video[e]:this._audio[e];return t.state===f.STATE_STOPPED},isPaused:function(e){var t=this._video[e]?this._video[e]:this._audio[e];return t.state===f.STATE_PAUSED},isPlaying:function(e){var t=this._video[e]?this._video[e]:this._audio[e];return t.state===f.STATE_PLAYING||t.state===f.STATE_STOPPING},setVolume:function(e,t){var i=this._video[e]?this._video[e]:this._audio[e];i.context?i.gainNode.gain.value=t:i.element.volume=t},getVolume:function(e){var t=this._video[e]?this._video[e]:this._audio[e];return t.context?t.gainNode.gain.value:t.element.volume},playObject:function(e){var t=this._video[e]?this._video[e]:this._audio[e];t.context?this.playAudio(e):this.playVideo(e)},stopObject:function(e){var t=this._video[e]?this._video[e]:this._audio[e];t.context?this.stopAudio(e):this.stopVideo(e)},loadMedia:function(e,t){var i=new XMLHttpRequest,n=this;i.open("GET",e,!0),i.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e;try{e=JSON.parse(this.responseText)}catch(i){}e&&n.addMedia(e,t)}},i.send()},addMedia:function(e,t){var i=0,n=0,o=function(){i++,s(t)&&i===n&&t()};for(var a in e){n+=e[a].length,this._mediaCount=n;for(var r=e[a].length;r--;)this[a](e[a][r],o)}},addProgress:function(e){this._progressHandler=e},addVideo:function(e,i){var n,o=this,a=e.id,r=e.src,u={element:e.element,channel:e.channel,CORS:e.CORS||!1},d={},h=function(){var e=t.createElement("source");e.src=d._source.source,e.type=l(d._source.source),o._processLoaded(),d.loaded=!0,d.element.appendChild(e),o._video[a]=d,s(i)&&i()};if(!this._video[a]&&a&&r){if(this._channels[u.channel]||(this._channels[u.channel]={}),d.state=f.STATE_STOPPED,d.loaded=!1,d.element=u.element||t.createElement("video"),d.channel=u.channel,d.sources=r,d._source=_("video",r),d._events={},-1!==this._urls.indexOf(d._source.source)&&s(i))return void h();if(this._urls.push(d._source.source),u.CORS)return void h();n=new XMLHttpRequest,n.open("GET",d._source.source,!0),n.onload=function(){h()},n.send()}},appendVideoTo:function(e,t){this._video[e]&&r(t)&&t.appendChild(this._video[e].element)},prependVideoTo:function(e,t){this._video[e]&&r(t)&&(t.hasChildNodes()?t.insertBefore(this._video[e].element,t.firstChild):this.appendVideoTo(e,t))},replaceAsVideo:function(e,t){this._video[e]&&r(t)&&t.parentNode.replaceChild(this._video[e].element,t)},getVideoProp:function(e,t){return this._video[e]?this._video[e].element[t]||this._video[e].element.getAttribute(t):void 0},setVideoProp:function(e,t,i){this._video[e]&&(this._video[e].element[t]=i)},setVideoAttr:function(e,t,i){this._video[e]&&this._video[e].element.setAttribute(t,i)},addVideoEvent:function(e,t,i){this._video[e]&&(this._video[e]._events[t]=function(){s(i)&&i.apply(this,arguments)},this._video[e].element.addEventListener(t,this._video[e]._events[t],!1))},removeVideoEvent:function(e,t){this._video[e]&&(this._video[e].element.removeEventListener(t,this._video[e]._events[t],!1),this._video[e]._events[t]=null)},getVideo:function(e){return this._video[e]?this._video[e].element:void 0},getVideos:function(){var e,t=[];for(e in this._video)t.push(this._video[e].element);return t},playVideo:function(e){this._video[e]&&this.isLoaded(e)&&(this.isStopped(e)||this.isPaused(e))&&(this._video[e].element.volume=this._channels[this._video[e].channel].volume,this._video[e].element.play(),this._video[e].state=f.STATE_PLAYING)},pauseVideo:function(e){this._video[e]&&this.isLoaded(e)&&this.isPlaying(e)&&(this._video[e].element.pause(),this._video[e].state=f.STATE_PAUSED)},stopVideo:function(e){this._video[e]&&this.isLoaded(e)&&this.isPlaying(e)&&(this._video[e].element.pause(),this._video[e].state=f.STATE_STOPPED)},addAudio:function(e,t){var i,n=this,o=e[0],a=e[1],r=e[2],u={};this._audio[o]||(this._channels[r.channel]||(this._channels[r.channel]={}),u.channel=r.channel,u.loop=r.loop||!1,u.sources=a,u.context=this.createAudioContext(),u.state=f.STATE_STOPPED,u.loaded=!1,u._source=_("audio",a),i=new XMLHttpRequest,i.open("GET",u._source.source,!0),i.responseType="arraybuffer",i.onload=function(){u.context.decodeAudioData(i.response,function(e){n._processLoaded(),u.loaded=!0,u.startTime=0,u.startOffset=0,u.buffer=e,u.gainNode=n.createGainNode(u.context),n._audio[o]=u,s(t)&&t()})},i.send())},playAudio:function(e){this._audio[e]&&(this._audio[e].startTime=this._audio[e].context.currentTime,this._audio[e].source=this._audio[e].context.createBufferSource(),this._audio[e].source.buffer=this._audio[e].buffer,this._audio[e].source.connect(this._audio[e].gainNode),this._audio[e].gainNode.connect(this._audio[e].context.destination),this._audio[e].gainNode.gain.value=this._channels[this._audio[e].channel].volume||1,this._audio[e].loop&&(this._audio[e].source.loop=!0),h(this._audio[e]),this._audio[e].state=f.STATE_PLAYING)},hitAudio:function(e){this.playAudio(e)},stopAudio:function(e){this._audio[e]&&(this._audio[e].startTime=0,this._audio[e].startOffset=0,this._audio[e].state=f.STATE_STOPPED,c(this._audio[e]))},pauseAudio:function(e){this._audio[e]&&(this._audio[e].startOffset+=this._audio[e].context.currentTime-this._audio[e].startTime,this._audio[e].state=f.STATE_PAUSED,c(this._audio[e]))},fadeVolumeIn:function(e,t,o){var a,r=this._video[e]?this._video[e]:this._audio[e],u=this;return r&&r.state===f.STATE_PLAYING?this:void(r&&(a=this._channels[r.channel].volume,r.state===f.STATE_STOPPED?(this.setVolume(e,0),this.playObject(e)):r.state===f.STATE_STOPPING&&(r.state=f.STATE_PLAYING),new n({to:a,from:0,ease:s(o)?o:i.linear,duration:t||1e3,update:function(t){u.setVolume(e,t)},complete:function(){u.setVolume(e,a)}})))},fadeVolumeOut:function(e,t,o){var a=this._video[e]?this._video[e]:this._audio[e];if(a&&a.state===f.STATE_STOPPING)return this;var r=this,u=function(t){a.state===f.STATE_STOPPING&&(r.setVolume(e,0>t?0:t),0===r.getVolume(e)&&r.stopObject(e))};a&&(a.state=f.STATE_STOPPING,new n({to:0,from:r.getVolume(e),ease:s(o)?o:i.linear,duration:t||1e3,update:u,complete:u}))},stopChannel:function(e){var t;for(t in this._video)this._video[t].channel===e&&this._video[t].state===f.STATE_PLAYING&&this.pauseVideo(t);for(t in this._audio)this._audio[t].channel===e&&this._audio[t].state===f.STATE_PLAYING&&this.pauseAudio(t)},playChannel:function(e){var t;for(t in this._video)this._video[t].channel===e&&this._video[t].state===f.STATE_PAUSED&&this.playVideo(t);for(t in this._audio)this._audio[t].channel===e&&this._audio[t].state===f.STATE_PAUSED&&this.playAudio(t)},fadeChannelOut:function(e,t){var i;for(i in this._video)this._video[i].channel===e&&this._video[i].state===f.STATE_PLAYING&&this.fadeVolumeOut(i,t);for(i in this._audio)this._audio[i].channel===e&&this._audio[i].state===f.STATE_PLAYING&&this.fadeVolumeOut(i,t)},fadeChannelIn:function(e,t){var i;for(i in this._video)this._video[i].channel===e&&this._video[i].state===f.STATE_STOPPED&&this.fadeVolumeIn(i,t);for(i in this._audio)this._audio[i].channel===e&&this._audio[i].state===f.STATE_STOPPED&&this.fadeVolumeIn(i,t)},crossFadeChannel:function(e,t){var i;for(i in this._video)this._video[i].channel===e&&this._video[i].state===f.STATE_PLAYING&&this.fadeVolumeOut(i,t);for(i in this._audio)this._audio[i].channel===e&&this._audio[i].state===f.STATE_PLAYING&&this.fadeVolumeOut(i,t);this.fadeVolumeIn(i,t)},setChannelProp:function(e,t,i){this._channels[e]&&(this._channels[e][t]=i)},pauseAll:function(e){var t;if(this._audioPaused)return this;this._audioPaused=!0;for(t in this._audio)this._audio[t].state===f.STATE_PLAYING&&this._audio[t].channel===e&&this.pauseAudio(t)},resumeAll:function(e){var t;if(!this._audioPaused)return this;this._audioPaused=!1;for(t in this._audio)this._audio[t].state===f.STATE_PAUSED&&this._audio[t].channel===e&&this.playAudio(t)},_processLoaded:function(){this._mediaLoads++,s(this._progressHandler)&&this._progressHandler({total:this._mediaCount,loaded:this._mediaLoads,decimalPercent:this._mediaLoads/this._mediaCount,wholePercent:this._mediaLoads/this._mediaCount*100}),this._mediaLoads===this._mediaCount&&(this._mediaCount=0,this._mediaLoads=0)}},e.funpack.pack("MediaBox",f)}(this,this.document,window.Easing||window.funpack("Easing"),window.Tween||window.funpack("Tween")),function(e){"use strict";if(!e)throw new Error("ResizeController Class requires Controller Class");var t={width:null,height:null,orient:null},i=null,n=function(){return i||(i=this,this.go(function(){var e=i.getViewport(),n=(e.width===t.width&&e.height===t.height,e.width!==t.width||e.height!==t.height),o=e.width>t.width||e.height>t.height,a=e.width<t.width||e.height<t.height,s=e.orient!==t.orient,r=e.orient!==t.orient&&90!==e.orient,u=e.orient!==t.orient&&90===e.orient;n&&i.fire("resize"),a?i.fire("resizedown"):o&&i.fire("resizeup"),s&&i.fire("orientationchange"),r?i.fire("orientationportrait"):u&&i.fire("orientationlandscape"),t=e})),i};n.prototype=new e,n.prototype.getViewport=function(){return{width:window.innerWidth,height:window.innerHeight,orient:"orientation"in window?Math.abs(window.orientation):null}},n.prototype.isPortrait=function(){return 90!==this.getViewport().orient},n.prototype.isLandscape=function(){return 90===this.getViewport().orient},window.funpack.pack("ResizeController",n)}(window.Controller||window.funpack("Controller")),function(e){"use strict";if(!e)throw new Error("ScrollController Class requires Controller Class");var t=null,i=null,n=function(){return i||(i=this,this.go(function(){var e=i.getScrollY(),n=e!==t,o=t>e,a=e>t,s=e!==t&&i.isScrollMax(),r=e!==t&&i.isScrollMin();n&&i.fire("scroll"),a?i.fire("scrolldown"):o&&i.fire("scrollup"),s?i.fire("scrollmax"):r&&i.fire("scrollmin"),t=e})),i};n.prototype=new e,n.prototype.getScrollY=function(){return window.scrollY||document.documentElement.scrollTop},n.prototype.getScrollMax=function(){return document.documentElement.offsetHeight-window.innerHeight},n.prototype.isScrollMax=function(){return this.getScrollY()>=document.documentElement.offsetHeight-window.innerHeight},n.prototype.isScrollMin=function(){return this.getScrollY()<=0},window.funpack.pack("ScrollController",n)}(window.Controller||window.funpack("Controller")),function(e){"use strict";var t=function(e,t,i){var n=null;return function(){function o(){i||e.apply(s,a),n=null}var a=arguments,s=this;n?clearTimeout(n):i&&e.apply(s,a),n=setTimeout(o,t||100)}};e.funpack.pack("debounce",t)}(window),function(e,t,i,n){"use strict";var o=function(o){var a={x:e.scrollX||document.documentElement.scrollLeft,y:e.scrollY||document.documentElement.scrollTop};return o=o||{},o.ease=o.ease||i.swing,o.duration=o.duration||600,o.from=o.y!==n?a.y:a.x,o.to=o.y!==n?o.y:o.x,o.update=function(t){o.y!==n?e.scrollTo(a.x,t):o.x!==n&&e.scrollTo(t,a.y)},new t(o)};e.funpack.pack("scroll2",o)}(window,window.Tween||window.funpack("Tween"),window.Easing||window.funpack("Easing"));